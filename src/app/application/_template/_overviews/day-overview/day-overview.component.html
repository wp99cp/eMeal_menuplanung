<!-- Header of the day -->
<mat-grid-tile-header>
  <h4>{{swissDateAdapter.formatLong(day.dateAsTypeDate) }} {{ day.getDiscriptionInBracket() }}</h4>
  <mat-icon class="edit-day clickable" (click)="editDay(day)"
            matTooltip="{{access ? 'Tag bearbeiten' : 'Informationen zum Tag'}}" *ngIf="!hideIcons"> edit
  </mat-icon>
</mat-grid-tile-header>

<!-- meal list of the day-->
<div class="meal-list" id="{{day.getTimestamp().toMillis()}}">

  <!-- create boxes for Zmorgen, ZnÃ¼ni, Zmittag, ... -->
  <ng-container *ngFor="let nameOfMeal of getMealNames(); let i = index">

    <div cdkDropList *ngIf="getMeal(nameOfMeal) as meals" class="meal-card {{nameOfMeal}}"
         [ngClass]="{'has-a-meal': meals.length >= 1}"
         [attr.data-meal-name]="nameOfMeal">

      <span class="meal-card-name">{{nameOfMeal}}</span>

      <ng-container *ngIf="(meals.length >= 1) else noMeal">
        <div class="meals clickable" *ngFor="let meal of meals"
             cdkDrag (cdkDragDropped)="mealDroppedAction([meal, $event]);"
             routerLink="meals/{{ meal.getMealId() }}/{{meal.documentId}}">
          <span>{{meal.weekTitle}}</span>
        </div>
      </ng-container>

      <ng-template #noMeal>
        <ng-container *ngIf="['Zmorgen', 'Zmittag', 'Znacht'].includes(nameOfMeal)">
          <div class="meals clickable">
            <mat-icon class="add-notes-icon">sticky_note_2</mat-icon>
          </div>
        </ng-container>
      </ng-template>

      <mat-icon *ngIf="!meals.length && nameOfMeal != 'Vorbereiten' && !hideIcons && access"
                class="add-meal-icon clickable" (click)="addNewMeal(day)">add_circle_outline
      </mat-icon>

    </div>

  </ng-container>

</div>
